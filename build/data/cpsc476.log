/*C4*/SET SCHEMA PUBLIC
CREATE SCHEMA PROJECT2 AUTHORIZATION SA
SET SCHEMA PROJECT2
CREATE MEMORY TABLE PROJECT2.USERDETAILS(USERNAME VARCHAR(50) NOT NULL PRIMARY KEY,PASSWORD VARCHAR(50) NOT NULL)
CREATE MEMORY TABLE PROJECT2.URL(USERNAME VARCHAR(200),ENTRY_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LONGURL VARCHAR(200) NOT NULL,SHORTURL VARCHAR(200) NOT NULL,CLICKS INTEGER NOT NULL,FOREIGN KEY(USERNAME) REFERENCES PROJECT2.USERDETAILS(USERNAME))
Create index idx_username on project2.url(username)\u000a
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
CREATE SCHEMA PROJECT3 AUTHORIZATION SA
SET SCHEMA PROJECT3
CREATE MEMORY TABLE PROJECT3.USERDETAILS(USERNAME VARCHAR(50) NOT NULL PRIMARY KEY,PASSWORD VARCHAR(50) NOT NULL)
CREATE MEMORY TABLE PROJECT3.URL(USERNAME VARCHAR(200),ENTRY_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LONGURL VARCHAR(200) NOT NULL,SHORTURL VARCHAR(200) NOT NULL,CLICKS INTEGER NOT NULL,FOREIGN KEY(USERNAME) REFERENCES PROJECT3.USERDETAILS(USERNAME))
Create index idx_username on project3.url(username)
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PROJECT3
INSERT INTO USERDETAILS VALUES('red','red')
COMMIT
INSERT INTO URL VALUES('red',1,'https://www.facebook.com/','http://localhost:8080/short/aHR0cHM6Ly',0)
COMMIT
DELETE FROM URL WHERE ENTRY_ID=1
INSERT INTO URL VALUES('red',1,'https://www.facebook.com/','http://localhost:8080/short/aHR0cHM6Ly',1)
COMMIT
DELETE FROM URL WHERE ENTRY_ID=1
INSERT INTO URL VALUES('red',1,'https://www.facebook.com/','http://localhost:8080/short/aHR0cHM6Ly',2)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
